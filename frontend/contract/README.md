# Scripts Created With The [near-sdk-as Starter Kit](https://github.com/Learn-NEAR/starter--near-sdk-as)

These following scripts will guide you through building the rust smart contract and deploying it to testnet using the NEAR CLI.

__You must complete these steps for the frontend to work propperly__

If you would like to continue with the in-depth tour and are comming from the [/Contract/README.md](../../Contract/README.md) please continue to step 0.

## Step 0

(__OPTIONAL__)
Step 1 runs the follow commands via a script anyways.

This is just for insight as to whats going on for those interested. (aka future me)

Run the build-contract.sh command from the within this directory.

    ./build-contract.sh

This builds the webasembly file, `.wasm`, from within the `/Contract/` directory and copies it into the `frontend/contract/wasm32_out/` folder as `contract.wasm`

Check out the [script](../../Contract/build.sh) to see exactly what is does.

*Note. This webassembly in reality has nothing to do with the function of the front end directly. Meaning when your frontend is communicating with the smart contract it's never using these `.wasm` files directly. The files are instead used by the Near CLI to be able to deploy a Smart Contract onto an account on the blockchain. This account is what is executing your 'backend' logic*

## Step 1

Run the dev-deploy.sh script to execute the Near CLI commands that deploy the contract onto a development account generated by the Near CLI itself. Follow the script instructions careufully.

    ./dev-deploy.sh

Once you have followed all the instructions and set your $CONTRACT workspace variable correctly (you check with `echo $CONTRACT`) run.

    near call $CONTRACT new --accountId $CONTRACT

This will call the `new()` method on the smart contract deployed onto the account created by the `dev-deploy.sh` script. 

By passing in the same contract account name (ie `$CONTRACT`) as the `--acountId` argument, the contract invokes itself and is its own owner saved on the `ownder_id` feild of contract stores main struct.

# Step 2

Before You can build the frontend we have to set the correct `.env` variable for the account id the contract is deployed onto. You can see workspace varaible you set for the contract account id with `echo $CONTRACT`. There should also be new folder generated in this directory called `/neardev/` with the account id as well.

Make sure the correct contract account id is set on the `REACT_APP_CONTRACT_NAME` environment variable within [`frontend/.env`](../.env)

Also make sure that your terminal is in the `/frontend/` directory before running these next commands. Run.
  
    yarn install

and

    yarn start


Now you can play with App on the Browser! 
